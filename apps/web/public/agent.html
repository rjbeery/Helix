cd "C:\Users\Rod\Documents\Helix\Helix Source\apps\web\public"

@"
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Helix AI — Agent</title>
  <meta name="theme-color" content="#00d1ff" />
  <style>
    :root{--bg:#1a1a1a;--card:#1a1a1a;--text:#fff;--muted:#a0a0a0;--input:#2a2a2a;--border:#444;--brand:#00d1ff}
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    .wrap{max-width:960px;margin:40px auto;padding:24px;background:var(--card);border-radius:12px;box-shadow:0 4px 12px rgba(0,0,0,.5);min-height:400px}
    .logo{display:flex;justify-content:center;margin-bottom:8px}
    .logo img{width:400px;height:200px;filter:drop-shadow(0 2px 4px rgba(0,209,255,.3))}
    .tagline{margin:0 auto;text-align:center;max-width:80%;color:var(--muted);font-size:14px}
    header.agent{display:flex;align-items:center;gap:16px;margin-top:24px;padding:16px;border:1px solid var(--border);border-radius:10px;background:#202020}
    .avatar{width:64px;height:64px;border-radius:50%;object-fit:cover;border:2px solid #2a3350}
    .persona-title{font-weight:700;font-size:18px}
    .persona-sub{color:var(--muted);font-size:12px}
    .grid{display:grid;gap:16px;margin-top:20px}
    label{font-size:13px;color:var(--muted);display:block;margin-bottom:6px}
    textarea,input{width:100%;background:var(--input);color:var(--text);border:1px solid var(--border);border-radius:8px;padding:12px;font-size:14px}
    textarea{min-height:180px;resize:vertical}
    .row{display:flex;gap:10px;flex-wrap:wrap}
    button{padding:12px 16px;border:0;border-radius:8px;cursor:pointer;background:var(--brand);color:#1a1a1a;font-weight:600;transition:background-color .2s}
    button:hover{background:#00b3d9}
    .ghost{background:#2a2a2a;color:#eee;border:1px solid var(--border)}
    .ghost:hover{background:#333}
    .footer-note{color:var(--muted);font-size:12px;text-align:center;margin-top:16px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="logo">
      <img src="/images/Helix_logo_with_tagline.svg" class="w-[400px] h-[200px]" alt="Helix AI Logo" />
    </div>
    <p class="tagline">A modular GenAI orchestration platform for multi-model, multi-persona intelligence.</p>

    <header class="agent">
      <img class="avatar" src="/images/Chris.jpg" alt="Persona" />
      <div>
        <div class="persona-title" id="personaName">Atlas</div>
        <div class="persona-sub">Helix AI persona</div>
      </div>
      <div style="margin-left:auto;color:#a0a0a0;font-size:12px">Demo view (static)</div>
    </header>

    <div class="grid">
      <div>
        <label for="sys">Persona prompt</label>
        <textarea id="sys" >Your name is Chris H. You are a Senior Director at ABC Bank. You are a financial wizard and are eager to answer all banking-related questions.</textarea>
        <div class="row" style="margin-top:8px">
          <button id="copyPrompt" class="ghost">Copy persona prompt</button>
          <button id="reset" class="ghost">Reset</button>
        </div>
      </div>

      <div>
        <label for="q">LLM query</label>
        <input id="q" placeholder="Type a question to this persona…" />
        <div class="row" style="margin-top:8px">
          <button id="copyBoth">Copy combined payload</button>
        </div>
        <div class="footer-note">Copies a JSON payload you can paste into any API tester.</div>
      </div>
    </div>
  </div>

  <script>
    // Optional guard: require a prior "login"
    try { if (!localStorage.getItem("helix.token")) localStorage.setItem("helix.token","demo.jwt.token"); } catch(e){}

    // Deep-link config: ?name=…&prompt=…&avatar=/images/xyz.jpg
    const params = new URLSearchParams(location.search);
    const name = params.get("name") || "Atlas";
    const avatar = params.get("avatar") || "/images/persona.jpg";
    const defaultPrompt = \`You are \${name}, a pragmatic GenAI engineering assistant for Helix AI.
Keep answers short. Prefer step-by-step with PowerShell and pnpm where relevant.
If a task can be done with static files today, do that. Avoid hype.\`;
    const saved = localStorage.getItem("helix.sys");
    const prompt = params.get("prompt") || saved || defaultPrompt;

    document.getElementById("personaName").textContent = name;
    document.querySelector(".avatar").src = avatar;
    const sys = document.getElementById("sys");
    const q = document.getElementById("q");
    sys.value = prompt;

    document.getElementById("reset").onclick = () => {
      sys.value = defaultPrompt;
      localStorage.removeItem("helix.sys");
    };
    document.getElementById("copyPrompt").onclick = async () => {
      await navigator.clipboard.writeText(sys.value);
      localStorage.setItem("helix.sys", sys.value);
    };
    document.getElementById("copyBoth").onclick = async () => {
      const payload = { persona: name, system: sys.value, user: q.value };
      await navigator.clipboard.writeText(JSON.stringify(payload, null, 2));
      localStorage.setItem("helix.sys", sys.value);
      alert("Copied JSON payload to clipboard.");
    };
  </script>
</body>
</html>
